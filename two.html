
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eventify - Modern Event Reminder</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* --- MODERN UI REDESIGN BY GEMINI --- */

      /* 1. CSS Variables for Theming & Consistency */
      :root {
        --font-primary: "Poppins", sans-serif;

        /* Light Theme Palette */
        --color-bg-light: #f4f7fc;
        --color-surface-light: #ffffff;
        --color-text-primary-light: #1e293b;
        --color-text-secondary-light: #64748b;
        --color-accent: #4f46e5;
        --color-accent-hover: #4338ca;
        --color-border-light: #e2e8f0;
        --color-success: #16a34a;
        --color-warning: #f97316;
        --color-danger: #dc2626;

        /* Dark Theme Palette */
        --color-bg-dark: #0f172a;
        --color-surface-dark: #1e293b;
        --color-text-primary-dark: #e2e8f0;
        --color-text-secondary-dark: #94a3b8;
        --color-border-dark: #334155;

        /* Shared Properties */
        --border-radius-md: 8px;
        --border-radius-lg: 16px;
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1),
          0 2px 4px -2px rgb(0 0 0 / 0.1);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1),
          0 4px 6px -2px rgb(0 0 0 / 0.1);
        --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-primary);
        background-color: var(--color-bg-light);
        color: var(--color-text-primary-light);
        min-height: 100vh;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      /* 2. Dark Mode Styles */
      body.dark-theme {
        --color-bg-light: var(--color-bg-dark);
        --color-surface-light: var(--color-surface-dark);
        --color-text-primary-light: var(--color-text-primary-dark);
        --color-text-secondary-light: var(--color-text-secondary-dark);
        --color-border-light: var(--color-border-dark);
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1rem;
      }

      /* 3. Refined Header & Logo */
      .header {
        text-align: center;
        margin-bottom: 3rem;
        position: relative;
      }

      .logo {
        font-size: 2.25rem;
        font-weight: 700;
        color: var(--color-accent);
        margin-bottom: 0.5rem;
      }

      .tagline {
        font-size: 1.1rem;
        color: var(--color-text-secondary-light);
        font-weight: 300;
      }

      /* 4. Sleek Theme Toggle Button */
      .theme-toggle {
        position: absolute;
        top: 0;
        right: 0;
        background: var(--color-surface-light);
        color: var(--color-text-secondary-light);
        border: 1px solid var(--color-border-light);
        border-radius: 50px;
        width: 40px;
        height: 40px;
        cursor: pointer;
        transition: var(--transition-fast);
        font-size: 1.25rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .theme-toggle:hover {
        color: var(--color-accent);
        transform: scale(1.1);
      }

      /* 5. Modern Card & Auth Section Styling */
      .card,
      .auth-section {
        background-color: var(--color-surface-light);
        border-radius: var(--border-radius-lg);
        padding: 2rem;
        box-shadow: var(--shadow-md);
        border: 1px solid var(--color-border-light);
        transition: var(--transition-fast);
        margin-bottom: 2rem;
      }

      .auth-section {
        max-width: 450px;
        margin-left: auto;
        margin-right: auto;
      }

      .card h2 {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        color: var(--color-text-primary-light);
      }

      /* 6. Improved Form Elements */
      .input-group {
        margin-bottom: 1rem;
      }

      label {
        font-weight: 500;
        margin-bottom: 0.5rem;
        display: block;
        color: var(--color-text-secondary-light);
      }

      input[type="email"],
      input[type="password"],
      input[type="text"],
      input[type="date"],
      input[type="time"],
      textarea {
        width: 100%;
        padding: 0.75rem 1rem;
        border: 1px solid var(--color-border-light);
        border-radius: var(--border-radius-md);
        font-size: 1rem;
        font-family: var(--font-primary);
        background-color: var(--color-bg-light);
        color: var(--color-text-primary-light);
        transition: var(--transition-fast);
      }

      input:focus,
      textarea:focus {
        outline: none;
        border-color: var(--color-accent);
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
      }

      textarea {
        resize: vertical;
        min-height: 100px;
      }

      /* 7. Modernized Buttons */
      .btn {
        width: 100%;
        padding: 0.8rem 1.5rem;
        border: none;
        border-radius: var(--border-radius-md);
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-fast);
        margin-top: 0.5rem;
      }

      .btn-primary {
        background-color: var(--color-accent);
        color: white;
      }

      .btn-primary:hover {
        background-color: var(--color-accent-hover);
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }

      .btn-secondary {
        background: transparent;
        color: var(--color-accent);
        border: 1px solid var(--color-accent);
      }

      .btn-secondary:hover {
        background-color: var(--color-accent);
        color: white;
      }

      /* 8. Dashboard Layout & Grid */
      .dashboard {
        display: none;
      }
      .dashboard.active {
        display: block;
      }

      .user-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: var(--color-surface-dark);
        color: var(--color-text-primary-dark);
        padding: 1rem 1.5rem;
        border-radius: var(--border-radius-lg);
        margin-bottom: 2rem;
      }

      body.dark-theme .user-info {
        background-color: var(--color-surface-light);
        color: var(--color-text-primary-light);
      }

      .user-info button {
        width: auto;
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 2rem;
      }

      /* 9. Refreshed Countdown Timer */
      .countdown-display {
        text-align: center;
        padding: 1rem 0;
      }

      .countdown-timer {
        font-size: 3rem;
        font-weight: 700;
        color: var(--color-accent);
        margin-bottom: 0.5rem;
      }

      .countdown-event {
        font-size: 1.1rem;
        color: var(--color-text-secondary-light);
        min-height: 2em; /* Prevents layout shift */
      }

      /* 10. Redesigned Event List */
      .events-container {
        max-height: 450px;
        overflow-y: auto;
        padding-right: 10px; /* for scrollbar */
      }

      .event-item {
        background: var(--color-bg-light);
        border-radius: var(--border-radius-md);
        padding: 1.25rem;
        margin-bottom: 1rem;
        border-left: 4px solid var(--color-accent);
        transition: var(--transition-fast);
        position: relative;
      }

      .event-item:hover {
        transform: translateX(5px);
        box-shadow: var(--shadow-md);
      }

      .event-item.urgent {
        border-left-color: var(--color-warning);
        animation: pulse 2s infinite;
      }
      body.dark-theme .event-item.urgent {
        animation: pulse-dark 2s infinite;
      }

      @keyframes pulse {
        0% {
          box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.4);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(249, 115, 22, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(249, 115, 22, 0);
        }
      }

      @keyframes pulse-dark {
        0% {
          box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.2);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(249, 115, 22, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(249, 115, 22, 0);
        }
      }

      .event-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.25rem;
      }

      .event-datetime {
        font-size: 0.9rem;
        color: var(--color-text-secondary-light);
        margin-bottom: 0.75rem;
      }

      .event-description {
        font-size: 0.9rem;
        color: var(--color-text-secondary-light);
        line-height: 1.5;
      }

      .event-countdown {
        font-size: 0.8rem;
        font-weight: 500;
        margin-top: 1rem;
        padding: 4px 12px;
        background: rgba(79, 70, 229, 0.1);
        color: var(--color-accent);
        border-radius: 20px;
        display: inline-block;
      }

      .delete-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: var(--color-danger);
        color: white;
        border: none;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        font-size: 1rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transform: scale(0.8);
        transition: var(--transition-fast);
      }

      .event-item:hover .delete-btn {
        opacity: 1;
        transform: scale(1);
      }

      /* 11. New "Toast" Notification System */
      #toastContainer {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .toast {
        min-width: 300px;
        padding: 1rem 1.5rem;
        border-radius: var(--border-radius-md);
        box-shadow: var(--shadow-lg);
        color: white;
        font-weight: 500;
        transform: translateX(120%);
        opacity: 0;
        animation: slideIn 0.5s forwards;
      }

      @keyframes slideIn {
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .toast.hide {
        animation: slideOut 0.5s forwards;
      }

      @keyframes slideOut {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(120%);
          opacity: 0;
        }
      }

      .toast--info {
        background-color: var(--color-accent);
      }
      .toast--success {
        background-color: var(--color-success);
      }
      .toast--warning {
        background-color: var(--color-warning);
      }
      .toast--danger {
        background-color: var(--color-danger);
      }

      /* 12. Utility & Empty States */
      .empty-state {
        text-align: center;
        color: var(--color-text-secondary-light);
        padding: 2rem;
      }

      .empty-state .icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        opacity: 0.5;
      }

      .loading {
        text-align: center;
        color: var(--color-text-secondary-light);
        font-size: 1.1rem;
        padding: 1rem;
      }

      @media (max-width: 768px) {
        .theme-toggle {
          position: static;
          margin: 1rem auto 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="logo">📅 Eventify</div>
        <p class="tagline">Never miss an important moment</p>
        <button id="themeToggle" class="theme-toggle" title="Toggle Theme">
          🌙
        </button>
      </header>

      <section class="auth-section" id="authSection">
        <h2 style="text-align: center">Welcome Back!</h2>
        <div class="auth-form">
          <div class="input-group">
            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              placeholder="you@example.com"
              required
            />
          </div>
          <div class="input-group">
            <label for="password">Password</label>
            <input
              type="password"
              id="password"
              placeholder="••••••••"
              required
            />
          </div>
          <button class="btn btn-primary" onclick="handleAuth()">
            Sign In / Sign Up
          </button>
          <button class="btn btn-secondary" onclick="continueWithoutAuth()">
            Continue as Guest
          </button>
        </div>
        <div class="loading" id="authLoading" style="display: none">
          Connecting...
        </div>
      </section>

      <main class="dashboard" id="dashboard">
        <div class="user-info">
          <span id="userWelcome">Welcome back!</span>
          <button class="btn btn-secondary" onclick="signOut()">Sign Out</button>
        </div>

        <div class="grid">
          <div class="card">
            <h2>📝 Add New Event</h2>
            <form class="event-form" onsubmit="addEvent(event)">
              <div class="input-group">
                <label for="eventName">Event Name</label>
                <input
                  type="text"
                  id="eventName"
                  placeholder="e.g., Team Meeting"
                  required
                />
              </div>
              <div class="input-group">
                <label for="eventDate">Date</label>
                <input type="date" id="eventDate" required />
              </div>
              <div class="input-group">
                <label for="eventTime">Time</label>
                <input type="time" id="eventTime" required />
              </div>
              <div class="input-group">
                <label for="eventDescription">Description (Optional)</label>
                <textarea
                  id="eventDescription"
                  placeholder="e.g., Discuss Q3 performance"
                ></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Add Event</button>
            </form>
          </div>

          <div class="card">
            <h2>⏰ Next Event</h2>
            <div class="countdown-display">
              <div class="countdown-timer" id="countdownTimer">--:--:--</div>
              <div class="countdown-event" id="countdownEvent">
                No upcoming events.
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>📋 Upcoming Events</h2>
          <div class="events-container" id="eventsContainer">
            </div>
        </div>
      </main>
    </div>

    <div id="toastContainer"></div>

    <audio id="notificationSound" preload="auto">
      <source
        src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmUiAS9+zO/XgjMGHm7A7+CVVA0IVbHn7bNJFQ1Gmtzy4GQjAjJ4ze7bgTAGImK+8OOQPwsOWK/q6aJoGQVDp+XB8oxtIA5Mp+LzxnImCjN+1vDBeSUJJHLH7NJvqOZ8BjB9yvJpIgAvaNCzegIGJGDF7NyRSQwQWavj7J9AJAtLn9rz2WQoJTB3wfHbeisHIG3D5+OUTAoRUKzj756FHQE3br3v24IsBA5VsOLr2l8gDDOB1e/NficLJnfE5tl+JwcjaLz252IzBCl+0fDcgysJLnrB5+CZSAkKTKfh8rJJGgVFptXkgCUGGnfH6taCMQMOVK9j5Zx/LwRHn9XlwVctDTGGvOGPY0kHJXe5zNiAMQkNVLHYr2sZgBU7m9roz24dASWNy+vRglUOCVGx1p3OeS0KKnbA5+CYShMJU6vn7qZYGAYqZBnDy6WFb1ABAAAABEQG8NUhZBMqCEn1F2aZIx8qGFMELM9dLa5B9jJ1YhfIZnJeG8qjGo2X8e5rg9J7oGaRc8WL4MJ2FvjBKGWnAfHF7VHGr3T5XT3PwOVZ8d3Q8ufbY4uy6y1MYunWmOCWb6JlEn7gV8kYUNgRdXPkwZXJxo1q0rkYKAp0VsLY"
        type="audio/wav"
      />
    </audio>

    <script>
      // --- REFACTORED JAVASCRIPT BY GEMINI ---

      // 1. DOM Element Constants
      const authSection = document.getElementById("authSection");
      const dashboard = document.getElementById("dashboard");
      const themeToggle = document.getElementById("themeToggle");
      // ... other elements can be added here for cleanliness

      // 2. Application State
      let events = [];
      let currentUser = null;
      let countdownInterval;
      let notificationChecked = {};

      // 3. Helper Functions
      const getUpcomingUserEvents = () => {
        const now = new Date().getTime();
        return events
          .filter(
            (event) =>
              (event.userId === currentUser?.uid ||
                currentUser?.uid === "guest") &&
              event.datetime > now
          )
          .sort((a, b) => a.datetime - b.datetime);
      };

      // 4. Initialization
      document.addEventListener("DOMContentLoaded", () => {
        initializeTheme();
        loadState();
        setTodayAsMinDate();
        displayEvents();
        startCountdown();
        checkNotifications();

        if (currentUser) {
          showDashboard();
        } else {
          showAuth();
        }

        if ("Notification" in window && Notification.permission === "default") {
          Notification.requestPermission();
        }
      });

      // 5. State & Storage Management
      function loadState() {
        currentUser = JSON.parse(localStorage.getItem("eventify-user"));
        events = JSON.parse(localStorage.getItem("eventify-events") || "[]");
      }

      function saveEvents() {
        localStorage.setItem("eventify-events", JSON.stringify(events));
      }

      function saveUser(user) {
        localStorage.setItem("eventify-user", JSON.stringify(user));
      }

      function clearUser() {
        localStorage.removeItem("eventify-user");
      }

      // 6. UI Switching
      function showDashboard() {
        authSection.style.display = "none";
        dashboard.classList.add("active");
        document.getElementById(
          "userWelcome"
        ).textContent = `Welcome, ${currentUser.email}!`;
        displayEvents();
        updateCountdown();
      }

      function showAuth() {
        authSection.style.display = "block";
        dashboard.classList.remove("active");
        document.getElementById("email").value = "";
        document.getElementById("password").value = "";
      }

      // 7. Authentication
      function handleAuth() {
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        if (!email || !password) {
          showToast("Please fill in all fields.", "danger");
          return;
        }

        // Simulate authentication
        setTimeout(() => {
          currentUser = { email: email, uid: "user_" + Date.now() };
          saveUser(currentUser);
          showDashboard();
          showToast(`Welcome to Eventify, ${email}!`, "success");
        }, 1000);
      }

      function continueWithoutAuth() {
        currentUser = { email: "Guest", uid: "guest" };
        showDashboard();
        showToast(
          "Continuing as a guest. Data will be saved locally.",
          "info"
        );
      }

      function signOut() {
        currentUser = null;
        clearUser();
        showAuth();
        showToast("Signed out successfully.", "info");
      }

      // 8. Event Management
      function addEvent(e) {
        e.preventDefault();
        const name = document.getElementById("eventName").value;
        const date = document.getElementById("eventDate").value;
        const time = document.getElementById("eventTime").value;
        const description = document.getElementById("eventDescription").value;

        const eventDateTime = new Date(`${date}T${time}`);

        if (eventDateTime <= new Date()) {
          showToast("Please select a future date and time.", "warning");
          return;
        }

        const newEvent = {
          id: Date.now(),
          name,
          date,
          time,
          description,
          datetime: eventDateTime.getTime(),
          userId: currentUser.uid,
        };

        events.push(newEvent);
        saveEvents();
        displayEvents();
        updateCountdown();
        e.target.reset();
        showToast("Event added successfully!", "success");
      }

      function deleteEvent(eventId) {
        events = events.filter((event) => event.id !== eventId);
        saveEvents();
        displayEvents();
        updateCountdown();
        showToast("Event deleted.", "danger");
      }

      function displayEvents() {
        const container = document.getElementById("eventsContainer");
        const userEvents = getUpcomingUserEvents();

        if (userEvents.length === 0) {
          container.innerHTML = `
            <div class="empty-state">
              <div class="icon">🎉</div>
              <p>You're all clear! Add a new event to get started.</p>
            </div>`;
          return;
        }

        container.innerHTML = userEvents.map(formatEventHTML).join("");
      }

      function formatEventHTML(event) {
        const eventDate = new Date(event.datetime);
        const timeUntil = event.datetime - new Date().getTime();
        const isUrgent = timeUntil <= 24 * 60 * 60 * 1000;

        const days = Math.floor(timeUntil / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeUntil / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((timeUntil / 1000 / 60) % 60);

        let timeUntilText = "";
        if (days > 0) timeUntilText = `${days}d ${hours}h`;
        else if (hours > 0) timeUntilText = `${hours}h ${minutes}m`;
        else timeUntilText = `${minutes}m`;

        return `
          <div class="event-item ${isUrgent ? "urgent" : ""}">
            <button class="delete-btn" onclick="deleteEvent(${
              event.id
            })">&times;</button>
            <div class="event-title">${event.name}</div>
            <div class="event-datetime">
              ${eventDate.toLocaleDateString(undefined, {
                weekday: "long",
                year: "numeric",
                month: "long",
                day: "numeric",
              })} at ${eventDate.toLocaleTimeString([], {
          hour: "2-digit",
          minute: "2-digit",
        })}
            </div>
            ${
              event.description
                ? `<div class="event-description">${event.description}</div>`
                : ""
            }
            <div class="event-countdown">⏰ ${timeUntilText} remaining</div>
          </div>
        `;
      }

      // 9. Countdown & Notifications
      function startCountdown() {
        countdownInterval = setInterval(updateCountdown, 1000);
      }

      function updateCountdown() {
        const timerEl = document.getElementById("countdownTimer");
        const eventEl = document.getElementById("countdownEvent");
        const userEvents = getUpcomingUserEvents();

        if (userEvents.length === 0) {
          timerEl.textContent = "🎉";
          eventEl.textContent = "No upcoming events.";
          return;
        }

        const nextEvent = userEvents[0];
        const timeLeft = nextEvent.datetime - new Date().getTime();

        const hours = Math.floor(
          (timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor(
          (timeLeft % (1000 * 60 * 60)) / (1000 * 60)
        );
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

        timerEl.textContent = `${String(hours).padStart(2, "0")}:${String(
          minutes
        ).padStart(2, "0")}:${String(seconds).padStart(2, "0")}`;
        eventEl.textContent = `for "${nextEvent.name}"`;

        if (seconds === 0) displayEvents(); // Refresh list every minute
      }

      function checkNotifications() {
        setInterval(() => {
          const now = new Date().getTime();
          const allUserEvents = events.filter(
            (event) =>
              event.userId === currentUser?.uid || currentUser?.uid === "guest"
          );

          allUserEvents.forEach((event) => {
            const timeUntil = event.datetime - now;

            // Event started notification
            if (
              timeUntil <= 0 &&
              timeUntil > -30000 &&
              !notificationChecked[event.id + "_started"]
            ) {
              notificationChecked[event.id + "_started"] = true;
              showEventStartedNotification(event);
              // Clean up old event after a delay
              setTimeout(() => {
                events = events.filter((e) => e.id !== event.id);
                saveEvents();
                displayEvents();
              }, 60000);
            }

            // Reminder notifications
            [30, 15, 5].forEach((min) => {
              if (
                Math.floor(timeUntil / 60000) === min &&
                !notificationChecked[`${event.id}_${min}`]
              ) {
                notificationChecked[`${event.id}_${min}`] = true;
                showReminderNotification(event, min);
              }
            });
          });
        }, 5000);
      }

      function showReminderNotification(event, minutes) {
        document.getElementById("notificationSound").play().catch(() => {});
        showToast(
          `🔔 "${event.name}" starts in ${minutes} minutes!`,
          "warning",
          8000
        );
        if ("Notification" in window && Notification.permission === "granted") {
          new Notification(`Event Reminder: ${event.name}`, {
            body: `Starting in ${minutes} minutes.`,
            tag: `${event.id}_${minutes}`,
          });
        }
      }

      function showEventStartedNotification(event) {
        document.getElementById("notificationSound").play().catch(() => {});
        showToast(
          `🎉 "${event.name}" is starting NOW!`,
          "success",
          10000
        );
        if ("Notification" in window && Notification.permission === "granted") {
          new Notification(`Event Starting: ${event.name}`, {
            body: `This event is starting now. Good luck!`,
            requireInteraction: true,
            tag: `${event.id}_started`,
          });
        }
      }

      // 10. Modern Toast Notification System
      function showToast(message, type = "info", duration = 4000) {
        const container = document.getElementById("toastContainer");
        const toast = document.createElement("div");
        toast.className = `toast toast--${type}`;
        toast.textContent = message;

        container.appendChild(toast);

        setTimeout(() => {
          toast.classList.add("hide");
          toast.addEventListener("animationend", () => toast.remove());
        }, duration);
      }

      // 11. Theme Management
      function initializeTheme() {
        const savedTheme = localStorage.getItem("eventify-theme") || "light";
        if (savedTheme === "dark") {
          document.body.classList.add("dark-theme");
          themeToggle.textContent = "☀️";
        } else {
          themeToggle.textContent = "🌙";
        }
      }

      themeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-theme");
        if (document.body.classList.contains("dark-theme")) {
          localStorage.setItem("eventify-theme", "dark");
          themeToggle.textContent = "☀️";
        } else {
          localStorage.setItem("eventify-theme", "light");
          themeToggle.textContent = "🌙";
        }
      });

      // 12. Utility
      function setTodayAsMinDate() {
        document
          .getElementById("eventDate")
          .setAttribute("min", new Date().toISOString().split("T")[0]);
      }
    </script>
  </body>
</html>
